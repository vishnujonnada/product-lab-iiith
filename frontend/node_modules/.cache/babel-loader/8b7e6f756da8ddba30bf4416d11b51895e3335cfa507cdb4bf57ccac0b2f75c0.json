{"ast":null,"code":"import _regeneratorRuntime from\"/home/vishnapanyala/Desktop/myapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/vishnapanyala/Desktop/myapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/vishnapanyala/Desktop/myapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UploadImages=function UploadImages(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),selectedFiles=_useState2[0],setSelectedFiles=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),label=_useState4[0],setLabel=_useState4[1];var handleFileSelect=function handleFileSelect(event){var files=Array.from(event.target.files);var filteredFiles=files.filter(function(file){return file.type.startsWith(\"image/\");});setSelectedFiles(filteredFiles);};var handleLabelChange=function handleLabelChange(event){setLabel(event.target.value);};var handleUpload=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var formData,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;formData=new FormData();selectedFiles.forEach(function(file){formData.append(\"imageFiles\",file);});formData.append(\"user\",localStorage.getItem(\"userEmail\"));formData.append(\"label\",label);_context.next=7;return fetch(\"http://10.2.8.173:5000/image/upload/trainingDataWithoutAnnotations\",{method:\"POST\",body:formData});case 7:response=_context.sent;if(response.ok){console.log(\"Files uploaded successfully\");// Do something on successful upload\n}else{console.log(\"Upload failed\");// Handle upload failure\n}_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.error(\"Upload error:\",_context.t0);case 14:case\"end\":return _context.stop();}},_callee,null,[[0,11]]);}));return function handleUpload(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",multiple:true,accept:\"image/*\",onChange:handleFileSelect}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:label,onChange:handleLabelChange,placeholder:\"Enter label\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUpload,children:\"Upload\"})]});};export default UploadImages;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","UploadImages","_useState","_useState2","_slicedToArray","selectedFiles","setSelectedFiles","_useState3","_useState4","label","setLabel","handleFileSelect","event","files","Array","from","target","filteredFiles","filter","file","type","startsWith","handleLabelChange","value","handleUpload","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","formData","response","wrap","_callee$","_context","prev","next","FormData","forEach","append","localStorage","getItem","fetch","method","body","sent","ok","console","log","t0","error","stop","apply","arguments","children","multiple","accept","onChange","placeholder","onClick"],"sources":["/home/vishnapanyala/Desktop/myapp/src/components/upload.js"],"sourcesContent":["import React, { useState } from \"react\";\n\nconst UploadImages = () => {\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [label, setLabel] = useState(\"\");\n\n  const handleFileSelect = (event) => {\n    const files = Array.from(event.target.files);\n    const filteredFiles = files.filter((file) => file.type.startsWith(\"image/\"));\n    setSelectedFiles(filteredFiles);\n  };\n\n  const handleLabelChange = (event) => {\n    setLabel(event.target.value);\n  };\n\n  const handleUpload = async () => {\n    try {\n      const formData = new FormData();\n      selectedFiles.forEach((file) => {\n        formData.append(\"imageFiles\", file);\n      });\n      formData.append(\"user\", localStorage.getItem(\"userEmail\"));\n      formData.append(\"label\", label);\n\n      const response = await fetch(\n        \"http://10.2.8.173:5000/image/upload/trainingDataWithoutAnnotations\",\n        {\n          method: \"POST\",\n          body: formData,\n        }\n      );\n      \n      if (response.ok) {\n        console.log(\"Files uploaded successfully\");\n        // Do something on successful upload\n      } else {\n        console.log(\"Upload failed\");\n        // Handle upload failure\n      }\n    } catch (error) {\n      console.error(\"Upload error:\", error);\n    }\n  };\n\n  return (\n    <div>\n      <input\n        type=\"file\"\n        multiple\n        accept=\"image/*\"\n        onChange={handleFileSelect}\n      />\n      <input\n        type=\"text\"\n        value={label}\n        onChange={handleLabelChange}\n        placeholder=\"Enter label\"\n      />\n      <br />\n      <button onClick={handleUpload}>Upload</button>\n    </div>\n  );\n};\n\nexport default UploadImages;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}