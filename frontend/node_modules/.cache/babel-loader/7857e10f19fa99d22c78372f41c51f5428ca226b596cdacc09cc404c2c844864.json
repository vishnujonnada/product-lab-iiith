{"ast":null,"code":"var _jsxFileName = \"/home/vishnapanyala/Desktop/myapp/src/components/annotate.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Stage, Layer, Image, Rect } from 'react-konva';\nimport useImage from 'use-image';\nimport { FaTrash } from 'react-icons/fa';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AnnotateImage = _ref => {\n  _s();\n  let {\n    imageUrl\n  } = _ref;\n  const [image] = useImage(imageUrl);\n  const [rectangles, setRectangles] = useState([]);\n  const isDrawing = React.useRef(false);\n  const [rectangleTexts, setRectangleTexts] = useState([]);\n  const handleMouseDown = e => {\n    isDrawing.current = true;\n    const x = e.evt.offsetX;\n    const y = e.evt.offsetY;\n    setRectangles([...rectangles, {\n      x,\n      y,\n      width: 0,\n      height: 0\n    }]);\n    setRectangleTexts([...rectangleTexts, '']);\n  };\n  const handleMouseMove = e => {\n    if (!isDrawing.current) {\n      return;\n    }\n    const currentRect = rectangles[rectangles.length - 1];\n    const width = e.evt.offsetX - currentRect.x;\n    const height = e.evt.offsetY - currentRect.y;\n    setRectangles(prevRectangles => {\n      const updatedRectangles = [...prevRectangles];\n      updatedRectangles[updatedRectangles.length - 1] = {\n        ...currentRect,\n        width,\n        height\n      };\n      return updatedRectangles;\n    });\n  };\n  const handleMouseUp = () => {\n    isDrawing.current = false;\n  };\n  const handleTextChange = (e, index) => {\n    const newRectangleTexts = [...rectangleTexts];\n    newRectangleTexts[index] = e.target.value;\n    setRectangleTexts(newRectangleTexts);\n  };\n  const handleDeleteBox = index => {\n    setRectangles(prevRectangles => {\n      const updatedRectangles = [...prevRectangles];\n      updatedRectangles.splice(index, 1);\n      return updatedRectangles;\n    });\n    setRectangleTexts(prevTexts => {\n      const updatedTexts = [...prevTexts];\n      updatedTexts.splice(index, 1);\n      return updatedTexts;\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Stage, {\n    width: window.innerWidth,\n    height: window.innerHeight,\n    onMouseDown: handleMouseDown,\n    onMousemove: handleMouseMove,\n    onMouseup: handleMouseUp,\n    children: /*#__PURE__*/_jsxDEV(Layer, {\n      children: [/*#__PURE__*/_jsxDEV(Image, {\n        image: image\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), rectangles.map((rect, i) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Rect, {\n          x: rect.x,\n          y: rect.y,\n          width: rect.width,\n          height: rect.height,\n          stroke: \"red\",\n          strokeWidth: 2,\n          draggable: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: rectangleTexts[i],\n          onChange: e => handleTextChange(e, i),\n          style: {\n            position: 'absolute',\n            left: rect.x,\n            top: rect.y - 25,\n            width: rect.width\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FaTrash, {\n          className: \"delete-icon\",\n          onClick: () => handleDeleteBox(i),\n          style: {\n            position: 'absolute',\n            left: rect.x + rect.width - 20,\n            top: rect.y - 20\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(AnnotateImage, \"CGv+KOTEQ34dWNOwN5bW+icjuQY=\", false, function () {\n  return [useImage];\n});\n_c = AnnotateImage;\nexport default AnnotateImage;\nvar _c;\n$RefreshReg$(_c, \"AnnotateImage\");","map":{"version":3,"names":["React","useState","Stage","Layer","Image","Rect","useImage","FaTrash","jsxDEV","_jsxDEV","AnnotateImage","_ref","_s","imageUrl","image","rectangles","setRectangles","isDrawing","useRef","rectangleTexts","setRectangleTexts","handleMouseDown","e","current","x","evt","offsetX","y","offsetY","width","height","handleMouseMove","currentRect","length","prevRectangles","updatedRectangles","handleMouseUp","handleTextChange","index","newRectangleTexts","target","value","handleDeleteBox","splice","prevTexts","updatedTexts","window","innerWidth","innerHeight","onMouseDown","onMousemove","onMouseup","children","fileName","_jsxFileName","lineNumber","columnNumber","map","rect","i","Fragment","stroke","strokeWidth","draggable","type","onChange","style","position","left","top","className","onClick","_c","$RefreshReg$"],"sources":["/home/vishnapanyala/Desktop/myapp/src/components/annotate.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Stage, Layer, Image, Rect } from 'react-konva';\nimport useImage from 'use-image';\nimport { FaTrash } from 'react-icons/fa';\n\nconst AnnotateImage = ({ imageUrl }) => {\n  const [image] = useImage(imageUrl);\n  const [rectangles, setRectangles] = useState([]);\n  const isDrawing = React.useRef(false);\n  const [rectangleTexts, setRectangleTexts] = useState([]);\n\n  const handleMouseDown = (e) => {\n    isDrawing.current = true;\n    const x = e.evt.offsetX;\n    const y = e.evt.offsetY;\n    setRectangles([...rectangles, { x, y, width: 0, height: 0 }]);\n    setRectangleTexts([...rectangleTexts, '']);\n  };\n\n  const handleMouseMove = (e) => {\n    if (!isDrawing.current) {\n      return;\n    }\n    const currentRect = rectangles[rectangles.length - 1];\n    const width = e.evt.offsetX - currentRect.x;\n    const height = e.evt.offsetY - currentRect.y;\n    setRectangles((prevRectangles) => {\n      const updatedRectangles = [...prevRectangles];\n      updatedRectangles[updatedRectangles.length - 1] = { ...currentRect, width, height };\n      return updatedRectangles;\n    });\n  };\n\n  const handleMouseUp = () => {\n    isDrawing.current = false;\n  };\n\n  const handleTextChange = (e, index) => {\n    const newRectangleTexts = [...rectangleTexts];\n    newRectangleTexts[index] = e.target.value;\n    setRectangleTexts(newRectangleTexts);\n  };\n\n  const handleDeleteBox = (index) => {\n    setRectangles((prevRectangles) => {\n      const updatedRectangles = [...prevRectangles];\n      updatedRectangles.splice(index, 1);\n      return updatedRectangles;\n    });\n    setRectangleTexts((prevTexts) => {\n      const updatedTexts = [...prevTexts];\n      updatedTexts.splice(index, 1);\n      return updatedTexts;\n    });\n  };\n\n  return (\n    <Stage\n      width={window.innerWidth}\n      height={window.innerHeight}\n      onMouseDown={handleMouseDown}\n      onMousemove={handleMouseMove}\n      onMouseup={handleMouseUp}\n    >\n      <Layer>\n        <Image image={image} />\n        {rectangles.map((rect, i) => (\n          <React.Fragment key={i}>\n            <Rect\n              x={rect.x}\n              y={rect.y}\n              width={rect.width}\n              height={rect.height}\n              stroke=\"red\"\n              strokeWidth={2}\n              draggable\n            />\n            <input\n              type=\"text\"\n              value={rectangleTexts[i]}\n              onChange={(e) => handleTextChange(e, i)}\n              style={{\n                position: 'absolute',\n                left: rect.x,\n                top: rect.y - 25,\n                width: rect.width,\n              }}\n            />\n            <FaTrash\n              className=\"delete-icon\"\n              onClick={() => handleDeleteBox(i)}\n              style={{\n                position: 'absolute',\n                left: rect.x + rect.width - 20,\n                top: rect.y - 20,\n              }}\n            />\n          </React.Fragment>\n        ))}\n      </Layer>\n    </Stage>\n  );\n};\n\nexport default AnnotateImage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}