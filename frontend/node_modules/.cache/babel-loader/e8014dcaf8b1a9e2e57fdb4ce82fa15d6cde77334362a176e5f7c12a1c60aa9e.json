{"ast":null,"code":"import _objectSpread from\"/home/vishnapanyala/Desktop/myapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/home/vishnapanyala/Desktop/myapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/vishnapanyala/Desktop/myapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/vishnapanyala/Desktop/myapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'./imageannotation.css';import{useParams}from'react-router-dom';import AnnotateImage from'./annotate';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ImageAnnotation=function ImageAnnotation(){var _useParams=useParams(),requestID=_useParams.requestID;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),images=_useState2[0],setImages=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),selectedImage=_useState4[0],setSelectedImage=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),annotations=_useState6[0],setAnnotations=_useState6[1];var _useState7=useState('all'),_useState8=_slicedToArray(_useState7,2),filterOption=_useState8[0],setFilterOption=_useState8[1];useEffect(function(){// Fetch images from API\nfetchImages();},[requestID]);var fetchImages=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('http://10.2.8.173:5000/getImageThumbnailsByRequestID',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({requestID:requestID})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;setImages(data.data);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function fetchImages(){return _ref.apply(this,arguments);};}();var handleImageClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(image){var response,data,fetchedAnnotations;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch('http://10.2.8.173:5000/getImageByImageID',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({imageID:image.imageID})});case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:data=_context2.sent;setSelectedImage(data);// Update annotations for annotated images\nif(data.annotationStatus==='Annotated'){console.log('Fetched Annotations:',data.annotations[0][0]);// Check the fetched annotations\nfetchedAnnotations=data.annotations[0][0];// Extract the inner array\nsetAnnotations(fetchedAnnotations);console.log(annotations);console.log('Updated Annotations:',fetchedAnnotations);// Check the updated state\n}else{setAnnotations([]);}_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0);case 14:case\"end\":return _context2.stop();}},_callee2,null,[[0,11]]);}));return function handleImageClick(_x){return _ref2.apply(this,arguments);};}();var handleDoneClick=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var hasUndefinedLabels,requestBody,response,updatedImages;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:console.log(annotations);if(!(annotations.length===0)){_context3.next=4;break;}alert('Please add annotations before submitting.');return _context3.abrupt(\"return\");case 4:hasUndefinedLabels=annotations.some(function(a){return a.comment===undefined;});if(!hasUndefinedLabels){_context3.next=9;break;}alert('Please add all labels before submitting.');_context3.next=21;break;case 9:// Perform logic to save selected labels for the selected image\nconsole.log('Annotations:',annotations);requestBody={imageID:selectedImage.imageID,annotations:[annotations]// Wrap annotations in an array\n};_context3.prev=11;_context3.next=14;return fetch('http://10.2.8.173:5000/setAnnotations',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(requestBody)});case 14:response=_context3.sent;if(response.ok){console.log('Annotations sent successfully!');// Update the image status to 'Annotated' in the local state\nif(selectedImage){updatedImages=images.map(function(image){return image.imageID===selectedImage.imageID?_objectSpread(_objectSpread({},image),{},{status:'Annotated'}):image;});setImages(updatedImages);}}else{console.error('Failed to send annotations:',response.statusText);}_context3.next=21;break;case 18:_context3.prev=18;_context3.t0=_context3[\"catch\"](11);console.error('Failed to send annotations:',_context3.t0);case 21:case\"end\":return _context3.stop();}},_callee3,null,[[11,18]]);}));return function handleDoneClick(){return _ref3.apply(this,arguments);};}();// const handleResetClick = () => {\n//   setAnnotations([]);\n// };\nvar handleResetClick=function handleResetClick(){setAnnotations([]);if(selectedImage){var updatedImages=images.map(function(image){return image.imageID===selectedImage.imageID?_objectSpread(_objectSpread({},image),{},{status:'Unannotated'}):image;});setImages(updatedImages);}};var handleAnnotationChange=function handleAnnotationChange(updatedAnnotations){setAnnotations(updatedAnnotations);};var handleFilterChange=function handleFilterChange(option){setFilterOption(option);};var filteredImages=filterOption==='all'?images:images.filter(function(image){return image.status===filterOption;});return/*#__PURE__*/_jsxs(\"div\",{className:\"image-annotation-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"image-filter\",children:/*#__PURE__*/_jsxs(\"select\",{value:filterOption,onChange:function onChange(e){return handleFilterChange(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Unannotated\",children:\"Unannotated\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Annotated\",children:\"Annotated\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"image-list\",children:[/*#__PURE__*/_jsx(\"br\",{}),filteredImages.map(function(image){return/*#__PURE__*/_jsxs(\"div\",{className:\"image-thumbnail \".concat(selectedImage&&selectedImage.imageID===image.imageID?'selected':''),onClick:function onClick(){return handleImageClick(image);},children:[/*#__PURE__*/_jsx(\"img\",{src:\"data:image/jpeg;base64,\".concat(image.imageThumbnail),alt:\"Image \".concat(image.imageID)}),image.status==='Unannotated'?/*#__PURE__*/_jsx(\"div\",{className:\"button-circle red\"}):/*#__PURE__*/_jsx(\"div\",{className:\"button-circle green\"})]},image.imageID);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"annotation-section\",children:[selectedImage&&/*#__PURE__*/_jsx(\"div\",{className:\"selected-image\",children:/*#__PURE__*/_jsx(AnnotateImage,{image:\"data:image/jpeg;base64,\".concat(selectedImage.base64Image),annotations:annotations,onChangeAnnotations:handleAnnotationChange,className:\"annotation-image\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"label-section\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Labels\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-section\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"done-button\",onClick:handleDoneClick,children:\"Done\"}),/*#__PURE__*/_jsx(\"button\",{className:\"reset-button\",onClick:handleResetClick,children:\"Reset\"})]})]})]});};export default ImageAnnotation;","map":{"version":3,"names":["React","useState","useEffect","useParams","AnnotateImage","jsx","_jsx","jsxs","_jsxs","ImageAnnotation","_useParams","requestID","_useState","_useState2","_slicedToArray","images","setImages","_useState3","_useState4","selectedImage","setSelectedImage","_useState5","_useState6","annotations","setAnnotations","_useState7","_useState8","filterOption","setFilterOption","fetchImages","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","method","headers","body","JSON","stringify","sent","json","t0","console","error","stop","apply","arguments","handleImageClick","_ref2","_callee2","image","fetchedAnnotations","_callee2$","_context2","imageID","annotationStatus","log","_x","handleDoneClick","_ref3","_callee3","hasUndefinedLabels","requestBody","updatedImages","_callee3$","_context3","length","alert","abrupt","some","a","comment","undefined","ok","map","_objectSpread","status","statusText","handleResetClick","handleAnnotationChange","updatedAnnotations","handleFilterChange","option","filteredImages","filter","className","children","value","onChange","e","target","concat","onClick","src","imageThumbnail","alt","base64Image","onChangeAnnotations"],"sources":["/home/vishnapanyala/Desktop/myapp/src/components/imageannotation.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './imageannotation.css';\nimport { useParams } from 'react-router-dom';\nimport AnnotateImage from './annotate';\n\nconst ImageAnnotation = () => {\n  const { requestID } = useParams();\n  const [images, setImages] = useState([]);\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [annotations, setAnnotations] = useState([]);\n  const [filterOption, setFilterOption] = useState('all');\n\n  useEffect(() => {\n    // Fetch images from API\n    fetchImages();\n  }, [requestID]);\n\n  const fetchImages = async () => {\n    try {\n      const response = await fetch('http://10.2.8.173:5000/getImageThumbnailsByRequestID', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          requestID: requestID\n        })\n      });\n      const data = await response.json();\n      setImages(data.data);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleImageClick = async (image) => {\n    try {\n      const response = await fetch('http://10.2.8.173:5000/getImageByImageID', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          imageID: image.imageID\n        })\n      });\n      const data = await response.json();\n      setSelectedImage(data);\n      \n      // Update annotations for annotated images\n      if (data.annotationStatus === 'Annotated') {\n        console.log('Fetched Annotations:', data.annotations[0][0]); // Check the fetched annotations\n        const fetchedAnnotations = data.annotations[0][0]; // Extract the inner array\n        setAnnotations(fetchedAnnotations);\n        console.log(annotations);\n        console.log('Updated Annotations:', fetchedAnnotations); // Check the updated state\n      } else {\n        setAnnotations([]);\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  \n  const handleDoneClick = async () => {\n    console.log(annotations);\n    if (annotations.length === 0) {\n        alert('Please add annotations before submitting.');\n        return;\n    }\n    const hasUndefinedLabels = annotations.some(a => a.comment === undefined);\n    if (hasUndefinedLabels) {\n      alert('Please add all labels before submitting.');\n    } else {\n      // Perform logic to save selected labels for the selected image\n      console.log('Annotations:', annotations);\n  \n      const requestBody = {\n        imageID: selectedImage.imageID,\n        annotations: [annotations] // Wrap annotations in an array\n      };\n  \n      try {\n        const response = await fetch('http://10.2.8.173:5000/setAnnotations', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(requestBody)\n        });\n  \n        if (response.ok) {\n          console.log('Annotations sent successfully!');\n          // Update the image status to 'Annotated' in the local state\n          if (selectedImage) {\n            const updatedImages = images.map(image =>\n              image.imageID === selectedImage.imageID ? { ...image, status: 'Annotated' } : image\n            );\n            setImages(updatedImages);\n          }\n        } else {\n          console.error('Failed to send annotations:', response.statusText);\n        }\n      } catch (error) {\n        console.error('Failed to send annotations:', error);\n      }\n    }\n  };\n  \n\n  // const handleResetClick = () => {\n  //   setAnnotations([]);\n  // };\n\n  const handleResetClick = () => {\n    setAnnotations([]);\n    if (selectedImage) {\n      const updatedImages = images.map(image =>\n        image.imageID === selectedImage.imageID ? { ...image, status: 'Unannotated' } : image\n      );\n      setImages(updatedImages);\n    }\n  };\n  \n\n  const handleAnnotationChange = (updatedAnnotations) => {\n    setAnnotations(updatedAnnotations);\n  };\n\n  const handleFilterChange = (option) => {\n    setFilterOption(option);\n  };\n\n  const filteredImages = filterOption === 'all' ? images : images.filter((image) => image.status === filterOption);\n\n  return (\n    <div className=\"image-annotation-container\">\n      <div className=\"image-filter\">\n        <select value={filterOption} onChange={(e) => handleFilterChange(e.target.value)}>\n          <option value=\"all\">All</option>\n          <option value=\"Unannotated\">Unannotated</option>\n          <option value=\"Annotated\">Annotated</option>\n        </select>\n      </div>\n      <div className=\"image-list\">\n        <br></br>\n        {filteredImages.map((image) => (\n          <div\n            key={image.imageID}\n            className={`image-thumbnail ${selectedImage && selectedImage.imageID === image.imageID ? 'selected' : ''}`}\n            onClick={() => handleImageClick(image)}\n          >\n            <img src={`data:image/jpeg;base64,${image.imageThumbnail}`} alt={`Image ${image.imageID}`} />\n            {image.status === 'Unannotated' ? (\n              <div className=\"button-circle red\"></div>\n            ) : (\n              <div className=\"button-circle green\"></div>\n            )}\n          </div>\n        ))}\n      </div>\n      <div className=\"annotation-section\">\n        {selectedImage && (\n          <div className=\"selected-image\">\n            <AnnotateImage\n              image={`data:image/jpeg;base64,${selectedImage.base64Image}`}\n              annotations={annotations}\n              onChangeAnnotations={handleAnnotationChange}\n              className=\"annotation-image\"\n            />\n          </div>\n        )}\n\n        <div className=\"label-section\">\n          <h3>Labels</h3>\n        </div>\n           \n        <div className=\"button-section\">\n          <button className=\"done-button\" onClick={handleDoneClick}>\n            Done\n          </button>\n          <button className=\"reset-button\" onClick={handleResetClick}>\n            Reset\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ImageAnnotation;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}